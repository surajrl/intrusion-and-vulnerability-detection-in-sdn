import numpy
from nfstream import NFPlugin, NFStreamer
from nfstream.flow import NFlow

my_streamer = NFStreamer(source="eth0", # or network interface
                         decode_tunnels=True,
                         bpf_filter=None,
                         promiscuous_mode=True,
                         snapshot_length=1536,
                         idle_timeout=120,
                         active_timeout=5,
                         accounting_mode=0,
                         udps=None,
                         n_dissections=20,
                         statistical_analysis=True, # enable post-mortem flow statistical analysis
                         splt_analysis=0,
                         n_meters=0,
                         max_nflows=0,
                         performance_report=0,
                         system_visibility_mode=0,
                         system_visibility_poll_ms=100)

for flow in my_streamer:
    print(flow.id)